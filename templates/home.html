{% load static %}
<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hunarmand | Asl san’at mahsulotlari</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>

    <!-- 🧭 Navbar -->
    <nav class="navbar">
        <div class="logo">
            <a href="/">🧶 Hunarmand</a>
        </div>
        <button class="menu-toggle" onclick="toggleMenu()">☰</button>
        <div class="links">
            <a href="#home" data-uz="Bosh sahifa" data-ru="Главная" data-en="Home">Bosh sahifa</a>
            <a href="#about" data-uz="Biz haqimizda" data-ru="О нас" data-en="About Us">Biz haqimizda</a>
            <a href="#products" data-uz="Mahsulotlar" data-ru="Продукты" data-en="Products">Mahsulotlar</a>
            <a href="#contact" data-uz="Aloqa" data-ru="Контакты" data-en="Contact">Aloqa</a>
            <a href="{% url 'admin_login' %}" data-uz="Admin" data-ru="Админ" data-en="Admin">Admin</a>
        </div>
        <select id="langSelect" style="margin-left:15px;padding:15px;border-radius:5px;">
            <option value="uz">🇺🇿 UZ</option>
            <option value="ru">🇷🇺 RU</option>
            <option value="en">🇬🇧 ENG</option>
        </select>
        <button id="mode-toggle"></button>
    </nav>

    <!-- 🖼 Hero -->
    <section class="hero" id="home">
        <div class="hero-text">
            <h1 data-uz="O‘zbek hunarmandchiligi — qadimiy san’at va zamonaviy dizayn uyg‘unligi"
                data-ru="Узбекское ремесло — гармония древнего искусства и современного дизайна"
                data-en="Uzbek craftsmanship — harmony of ancient art and modern design">
                O‘zbek hunarmandchiligi — qadimiy san’at va zamonaviy dizayn uyg‘unligi
            </h1>
            <p data-uz="Qo‘l mehnati bilan yaratilgan, milliy ruhni aks ettiruvchi noyob mahsulotlar."
                data-ru="Уникальные изделия ручной работы, отражающие национальный дух."
                data-en="Unique handmade products reflecting national spirit.">
                Qo‘l mehnati bilan yaratilgan, milliy ruhni aks ettiruvchi noyob mahsulotlar.
            </p>
            <a href="#products" class="btn" data-uz="Mahsulotlarni ko‘rish" data-ru="Посмотреть продукты"
                data-en="View Products">
                Mahsulotlarni ko‘rish
            </a>
        </div>
        <img src="/media/doppi.jpg" class="hero-img" alt="Hunarmand">
    </section>

    <!-- 🙋‍♂️ About -->
    <section class="about" id="about">
        <h2 data-uz="Biz haqimizda" data-ru="О нас" data-en="About Us">Biz haqimizda</h2>
        <p data-uz="Men — o‘z ishini sevgan hunarmandman. Har bir mahsulotimda milliy qadriyatlar, nafislik va sifat mujassam. Buyurtmalarni alohida e’tibor bilan tayyorlayman."
            data-ru="Я — ремесленник, любящий своё дело. В каждом изделии — национальные ценности, изящество и качество. Заказы выполняю с особым вниманием."
            data-en="I am a passionate craftsman. Each of my products embodies national values, elegance, and quality. I prepare orders with special care.">
            Men — o‘z ishini sevgan hunarmandman. Har bir mahsulotimda milliy qadriyatlar, nafislik va sifat mujassam.
            Buyurtmalarni alohida e’tibor bilan tayyorlayman.
        </p>

        <div class="about-gallery">
            <img src="/media/haqida.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/haqida2.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/photo_2025-10-10_11-54-19.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/photo_2025-10-10_11-57-33.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/photo_2025-10-10_11-57-38.jpg" class="hero-img" alt="Hunarmand">
        </div>
    </section>
    <section id="crafts" class="crafts-section">
        <div class="crafts-content">
            <div class="crafts-text">
                <h2 data-uz="Qo‘l mehnati bilan yaratilgan betakror buyumlar" data-ru="Уникальные изделия ручной работы"
                    data-en="Unique handmade creations">
                    Qo‘l mehnati bilan yaratilgan betakror buyumlar
                </h2>
                <p data-uz="Biz — 10 yildan ortiq tajribamiz asosida milliy kashtachilik san'ati asosida tayyorlangan 300 dan ortiq mahsulotlarimizni mamlakatimizdagi va chet ellik mijozlarimizga taqdim qilib kelmoqdamiz."
                    data-ru="Biz — более 10 лет мы представляем более 300 изделий ручной работы, созданных на основе национального вышивального искусства, нашим клиентам в Узбекистане и за рубежом."
                    data-en="Biz — for over 10 years, we have been offering more than 300 handcrafted items based on national embroidery art to our clients in Uzbekistan and abroad.">
                    Biz — 10 yildan ortiq tajribamiz asosida milliy kashtachilik san'ati asosida
                    tayyorlangan 300 dan ortiq mahsulotlarimizni mamlakatimizdagi va chet ellik mijozlarimizga taqdim
                    qilib kelmoqdamiz.
                </p>
            </div>
            <div class="crafts-image">
                <img src="/media/doppi5.jpg" alt="Qo‘l mehnati bilan yaratilgan buyumlar">
            </div>
        </div>
    </section>

    <!-- 🧵 Products -->
    <section class="products" id="products">
        <h2 data-uz="Mahsulotlar" data-ru="Продукты" data-en="Products">Mahsulotlar</h2>
        <div class="product-container">
            {% for product in products %}
            <div class="product-card">
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                <h3>{{ product.name }}</h3>
                <p class="desc">{{ product.description|truncatechars:80 }}</p>
                <p><b>{{ product.price }} so‘m</b></p>
                <button class="buy-btn"
                    onclick="openModal('{{ product.id }}', '{{ product.name }}', '{{ product.price }}', '{{ product.image.url }}')"
                    data-uz="🛒 Sotib olish" data-ru="🛒 Купить" data-en="🛒 Buy">
                    🛒 Sotib olish
                </button>
            </div>
            {% endfor %}
        </div>
    </section>
    <section id="special" class="special-section">
        <div class="special-container">
            <div class="special-images">
                <img src="/media/sert.jpg" alt="Qo‘l mehnati 1" class="img-main">
                <img src="/media/d2.jpg" alt="Qo‘l mehnati 2" class="img-overlay">
            </div>
            <div class="special-text">
                <h2 data-uz="Sizga mos maxsus qo‘l mehnati va dizaynlar"
                    data-ru="Индивидуальные изделия ручной работы и дизайны"
                    data-en="Custom handmade art and designs for you">
                    Sizga mos maxsus qo‘l mehnati va dizaynlar
                </h2>
                <p class="subtitle"
                    data-uz="2010 yildan beri: Yunesko va mahalliy tadbirlarda faxrli o‘rinlarni egallab kelmoqdamiz"
                    data-ru="С 2010 года: мы занимали почётные места на мероприятиях ЮНЕСКО и местных выставках"
                    data-en="Since 2010: proud participant and winner at UNESCO and local art events">
                    2010 yildan beri: Yunesko va mahalliy tadbirlarda faxrli o‘rinlarni egallab kelmoqdamiz
                </p>
                <ul class="features">
                    <li data-uz="Ko‘p yillik tajriba" data-ru="Многолетний опыт" data-en="Years of experience">Ko‘p
                        yillik tajriba</li>
                    <li data-uz="Professional ijodkorlar" data-ru="Профессиональные мастера"
                        data-en="Professional creators">Professional ijodkorlar</li>
                    <li data-uz="Qulay narxlar" data-ru="Доступные цены" data-en="Affordable prices">Qulay narxlar</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="faq" class="faq-section">
        <div class="faq-container">
            <div class="faq-image">
                <img src="/media/zarg.JPG" alt="Doppi" />
            </div>
            <div class="faq-content">
                <h2 data-uz="Ko‘p so‘raladigan savollar" data-ru="Часто задаваемые вопросы"
                    data-en="Frequently Asked Questions">
                    Ko‘p so‘raladigan savollar
                </h2>

                <div class="faq-item">
                    <button class="faq-question" data-uz="Buyurtmani qanday beraman?" data-ru="Как оформить заказ?"
                        data-en="How can I place an order?">Buyurtmani qanday beraman?</button>
                    <div class="faq-answer">
                        <p data-uz="Saytdagi “🛒 Sotib olish” tugmasi orqali tanlagan mahsulotingizni buyurtma qilishingiz mumkin. Forma to‘ldirilgach, siz bilan tez orada bog‘lanamiz."
                            data-ru="Вы можете оформить заказ через кнопку «🛒 Купить». После заполнения формы мы свяжемся с вами."
                            data-en="You can order by clicking the '🛒 Buy' button. After submitting the form, we’ll contact you soon.">
                            Saytdagi “🛒 Sotib olish” tugmasi orqali tanlagan mahsulotingizni buyurtma qilishingiz
                            mumkin. Forma to‘ldirilgach, siz bilan tez orada bog‘lanamiz.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question" data-uz="Qaysi turdagi mahsulotlar mavjud?"
                        data-ru="Какие виды изделий доступны?" data-en="What types of products are available?">
                        Qaysi turdagi mahsulotlar mavjud?</button>
                    <div class="faq-answer">
                        <p data-uz="Bizda milliy uslubda tayyorlangan doppi va nafis zargarlik taqinchoqlari mavjud. Har biri qo‘l mehnati bilan yaratilgan."
                            data-ru="У нас есть традиционные тюбетейки и изысканные ювелирные украшения ручной работы."
                            data-en="We offer traditional Uzbek doppis and elegant handmade jewelry pieces.">
                            Bizda milliy uslubda tayyorlangan doppi va nafis zargarlik taqinchoqlari mavjud. Har biri
                            qo‘l mehnati bilan yaratilgan.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question" data-uz="Katta miqdorda buyurtma qabul qilasizmi?"
                        data-ru="Принимаете ли вы крупные заказы?" data-en="Do you accept bulk orders?">Katta miqdorda
                        buyurtma qabul qilasizmi?</button>
                    <div class="faq-answer">
                        <p data-uz="Ha, albatta! Biz to‘y, tadbir va bayramlar uchun katta hajmdagi buyurtmalarni ham qabul qilamiz."
                            data-ru="Да, конечно! Мы принимаем крупные заказы для свадеб и мероприятий."
                            data-en="Yes, of course! We accept large orders for weddings and events.">
                            Ha, albatta! Biz to‘y, tadbir va bayramlar uchun katta hajmdagi buyurtmalarni ham qabul
                            qilamiz.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question" data-uz="To‘lov usullari qaysi?"
                        data-ru="Какие способы оплаты доступны?" data-en="What payment methods are available?">To‘lov
                        usullari qaysi?</button>
                    <div class="faq-answer">
                        <p data-uz="To‘lovlar Click, Payme yoki naqd pul orqali amalga oshiriladi. Har bir mijoz uchun qulay usul tanlash imkoniyati mavjud."
                            data-ru="Оплата возможна через Click, Payme или наличными. Каждый клиент может выбрать удобный способ."
                            data-en="Payments can be made via Click, Payme, or cash. Each customer can choose the most convenient way.">
                            To‘lovlar Click, Payme yoki naqd pul orqali amalga oshiriladi. Har bir mijoz uchun qulay
                            usul tanlash imkoniyati mavjud.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 📩 Contact -->
    <section id="contact" class="contact">
        <h2 id="murajat" data-uz="Murojat uchun" data-ru="Контакты" data-en="Contact">Murojaat uchun</h2>
        <p class="contact-text"
            data-uz="Quyidagi forma orqali biz bilan bog‘laning yoki taklif va savollaringizni yuboring."
            data-ru="Свяжитесь с нами через форму ниже или отправьте свои предложения и вопросы."
            data-en="Contact us via the form below or send your suggestions and questions.">
            Quyidagi forma orqali biz bilan bog‘laning yoki taklif va savollaringizni yuboring.
        </p>

        <form method="post" class="contact-form">
            {% csrf_token %}
            {{ contact_form.as_p }}
            <button type="submit" name="contact_submit" class="contact-btn" data-uz="Yuborish" data-ru="Отправить"
                data-en="Send">Yuborish</button>
        </form>
    </section>

    <!-- 🧾 Modal (Mahsulot sotib olish) -->
    <div id="buyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle" data-uz="Buyurtma berish" data-ru="Сделать заказ" data-en="Order">Buyurtma berish</h3>
            <img id="modalImage" src="" style="width:100%;border-radius:8px;margin-bottom:10px;">
            <form id="orderForm" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" id="product_id" name="product_id">
                <input type="text" name="first_name" placeholder="Ismingiz" required><br>
                <input type="text" name="last_name" placeholder="Familiyangiz" required><br>
                <input type="text" name="phone" placeholder="Telefon raqam" required><br>
                <label><input type="checkbox" required> Taklif shartlariga roziman</label><br>
                <button type="submit" class="btn" name="buy_product" data-uz="Yuborish" data-ru="Отправить"
                    data-en="Send">Yuborish</button>
            </form>
        </div>
    </div>

    <!-- 🦶 Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-info">
                <h3>Hunarmand.uz</h3>
                <p data-uz="Mahalliy ustalar qo‘l mehnati mahsulotlari"
                    data-ru="Продукция местных мастеров ручной работы" data-en="Local craftsmen handmade products">
                    Mahalliy ustalar qo‘l mehnati mahsulotlari</p>
            </div>
            <div class="footer-links">
                <p><strong>📍 Manzil:</strong> Namangan viloyati, Kosonsoy shahri</p>
                <p><strong>📞 Telefon:</strong> <a href="tel:+998901234567">+998 97 520 62 88</a></p>
                <p><strong>💬 Telegram:</strong> <a href="https://t.me/aliyarova_1998" target="_blank">Aliyarova</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Hunarmand.uz | Barcha huquqlar himoyalangan.</p>
        </div>
    </footer>

    <!-- 🌙 Script -->
    <script>
        // 🌙 / ☀️ Dark Mode
        const modeToggle = document.getElementById("mode-toggle");
        const body = document.body;
        // Tugma bosilganda rejimni almashtirish
        modeToggle.addEventListener("click", () => {
            localStorage.setItem("darkMode", darkNow);
            modeToggle.textContent = darkNow ? "☀️" : "🌙";
        });

        const isDark = localStorage.getItem("darkMode") === "true";
        if (isDark) {
            body.classList.add("dark");
            modeToggle.textContent = "☀️"; // quyosh belgisi (hozir dark rejim)
        } else {
            body.classList.remove("dark");
            modeToggle.textContent = "🌙"; // oy belgisi (yorug‘ rejim)
        }

        // dark mode
        modeToggle.addEventListener("click", () => {
            body.classList.toggle("dark");
            localStorage.setItem("darkMode", body.classList.contains("dark"));
        });

        if (localStorage.getItem("darkMode") === "true") {
            body.classList.add("dark");
        }


        // Modal
        const modal = document.getElementById("buyModal");

        function openModal(id, name, price, img) {
            document.getElementById("modalTitle").innerText = name + " - " + price + " so‘m";
            document.getElementById("modalImage").src = img;
            document.getElementById("product_id").value = id;
            modal.style.display = "block";
        }

        function closeModal() {
            modal.style.display = "none";
        }

        window.onclick = function (e) {
            if (e.target == modal) closeModal();
        };

        // About gallery auto scroll
        document.addEventListener("DOMContentLoaded", () => {
            const gallery = document.querySelector(".about-gallery");

            let scrollAmount = 0;
            function autoScroll() {
                if (gallery.scrollTop + gallery.clientHeight >= gallery.scrollHeight) {
                    gallery.scrollTo({ top: 0, behavior: "smooth" });
                } else {
                    gallery.scrollBy({ left: 1, behavior: "smooth" });
                }
            }

            setInterval(autoScroll, 50);
        });

        // 🌐 Language selector
        const langSelect = document.getElementById("langSelect");

        function changeLanguage(lang) {
            document.querySelectorAll("[data-uz]").forEach(el => {
                el.innerText = el.getAttribute("data-" + lang);
            });
            localStorage.setItem("siteLang", lang);
        }

        const savedLang = localStorage.getItem("siteLang") || "uz";
        langSelect.value = savedLang;
        changeLanguage(savedLang);

        langSelect.addEventListener("change", (e) => {
            changeLanguage(e.target.value);
        });
        function toggleMenu() {
            document.querySelector('.navbar').classList.toggle('active');
        }
        document.addEventListener("DOMContentLoaded", function () {
            const faqItems = document.querySelectorAll(".faq-item");

            faqItems.forEach(item => {
                const question = item.querySelector(".faq-question");
                question.addEventListener("click", () => {
                    item.classList.toggle("active");

                    // boshqa ochilganlarni yopish
                    faqItems.forEach(other => {
                        if (other !== item) other.classList.remove("active");
                    });
                });
            });
        });

    </script>

</body>

</html>