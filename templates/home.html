{% load static %}
<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hunarmand | Asl sanâ€™at mahsulotlari</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

    <!-- ğŸ§­ Navbar -->
    <nav class="navbar">
        <div class="logo">
            <a href="/">ğŸ§¶ Hunarmand</a>
        </div>
        <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
        <div class="links">
            <a href="#home" data-uz="Bosh sahifa" data-ru="Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ" data-en="Home">Bosh sahifa</a>
            <a href="#about" data-uz="Biz haqimizda" data-ru="Ğ Ğ½Ğ°Ñ" data-en="About Us">Biz haqimizda</a>
            <a href="#products" data-uz="Mahsulotlar" data-ru="ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹" data-en="Products">Mahsulotlar</a>
            <a href="#contact" data-uz="Aloqa" data-ru="ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹" data-en="Contact">Aloqa</a>
            <a href="{% url 'admin_login' %}" data-uz="Admin" data-ru="ĞĞ´Ğ¼Ğ¸Ğ½" data-en="Admin">Admin</a>
        </div>
        <select id="langSelect" style="margin-left:15px;padding:5px;border-radius:5px;">
            <option value="uz">ğŸ‡ºğŸ‡¿ UZ</option>
            <option value="ru">ğŸ‡·ğŸ‡º RU</option>
            <option value="en">ğŸ‡¬ğŸ‡§ ENG</option>
        </select>
        <button id="mode-toggle">ğŸŒ™ / â˜€ï¸</button>
    </nav>

    <!-- ğŸ–¼ Hero -->
    <section class="hero" id="home">
        <div class="hero-text">
            <h1 data-uz="Oâ€˜zbek hunarmandchiligi â€” qadimiy sanâ€™at va zamonaviy dizayn uygâ€˜unligi"
                data-ru="Ğ£Ğ·Ğ±ĞµĞºÑĞºĞ¾Ğµ Ñ€ĞµĞ¼ĞµÑĞ»Ğ¾ â€” Ğ³Ğ°Ñ€Ğ¼Ğ¾Ğ½Ğ¸Ñ Ğ´Ñ€ĞµĞ²Ğ½ĞµĞ³Ğ¾ Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ° Ğ¸ ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ğ°"
                data-en="Uzbek craftsmanship â€” harmony of ancient art and modern design">
                Oâ€˜zbek hunarmandchiligi â€” qadimiy sanâ€™at va zamonaviy dizayn uygâ€˜unligi
            </h1>
            <p data-uz="Qoâ€˜l mehnati bilan yaratilgan, milliy ruhni aks ettiruvchi noyob mahsulotlar."
               data-ru="Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ·Ğ´ĞµĞ»Ğ¸Ñ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹, Ğ¾Ñ‚Ñ€Ğ°Ğ¶Ğ°ÑÑ‰Ğ¸Ğµ Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´ÑƒÑ…."
               data-en="Unique handmade products reflecting national spirit.">
               Qoâ€˜l mehnati bilan yaratilgan, milliy ruhni aks ettiruvchi noyob mahsulotlar.
            </p>
            <a href="#products" class="btn"
               data-uz="Mahsulotlarni koâ€˜rish" data-ru="ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹" data-en="View Products">
               Mahsulotlarni koâ€˜rish
            </a>
        </div>
        <img src="/media/doppi.jpg" class="hero-img" alt="Hunarmand">
    </section>

    <!-- ğŸ™‹â€â™‚ï¸ About -->
    <section class="about" id="about">
        <h2 data-uz="Biz haqimizda" data-ru="Ğ Ğ½Ğ°Ñ" data-en="About Us">Biz haqimizda</h2>
        <p data-uz="Men â€” oâ€˜z ishini sevgan hunarmandman. Har bir mahsulotimda milliy qadriyatlar, nafislik va sifat mujassam. Buyurtmalarni alohida eâ€™tibor bilan tayyorlayman."
           data-ru="Ğ¯ â€” Ñ€ĞµĞ¼ĞµÑĞ»ĞµĞ½Ğ½Ğ¸Ğº, Ğ»ÑĞ±ÑÑ‰Ğ¸Ğ¹ ÑĞ²Ğ¾Ñ‘ Ğ´ĞµĞ»Ğ¾. Ğ’ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ¸Ğ·Ğ´ĞµĞ»Ğ¸Ğ¸ â€” Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸, Ğ¸Ğ·ÑÑ‰ĞµÑÑ‚Ğ²Ğ¾ Ğ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾. Ğ—Ğ°ĞºĞ°Ğ·Ñ‹ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑ Ñ Ğ¾ÑĞ¾Ğ±Ñ‹Ğ¼ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸ĞµĞ¼."
           data-en="I am a passionate craftsman. Each of my products embodies national values, elegance, and quality. I prepare orders with special care.">
           Men â€” oâ€˜z ishini sevgan hunarmandman. Har bir mahsulotimda milliy qadriyatlar, nafislik va sifat mujassam. Buyurtmalarni alohida eâ€™tibor bilan tayyorlayman.
        </p>

        <div class="about-gallery">
            <img src="/media/haqida.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/haqida2.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/photo_2025-10-10_11-54-19.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/photo_2025-10-10_11-57-33.jpg" class="hero-img" alt="Hunarmand">
            <img src="/media/photo_2025-10-10_11-57-38.jpg" class="hero-img" alt="Hunarmand">
        </div>
    </section>

    <!-- ğŸ§µ Products -->
    <section class="products" id="products">
        <h2 data-uz="Mahsulotlar" data-ru="ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹" data-en="Products">Mahsulotlar</h2>
        <div class="product-container">
            {% for product in products %}
            <div class="product-card">
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                <h3>{{ product.name }}</h3>
                <p class="desc">{{ product.description|truncatechars:80 }}</p>
                <p><b>{{ product.price }} soâ€˜m</b></p>
                <button class="buy-btn" onclick="openModal('{{ product.id }}', '{{ product.name }}', '{{ product.price }}', '{{ product.image.url }}')"
                        data-uz="ğŸ›’ Sotib olish" data-ru="ğŸ›’ ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ" data-en="ğŸ›’ Buy">
                    ğŸ›’ Sotib olish
                </button>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- ğŸ“© Contact -->
    <section id="contact" class="contact">
        <h2 id="murajat" data-uz="Murojaat uchun" data-ru="ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹" data-en="Contact">Murojaat uchun</h2>
        <p class="contact-text" data-uz="Quyidagi forma orqali biz bilan bogâ€˜laning yoki taklif va savollaringizni yuboring."
           data-ru="Ğ¡Ğ²ÑĞ¶Ğ¸Ñ‚ĞµÑÑŒ Ñ Ğ½Ğ°Ğ¼Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Ñ„Ğ¾Ñ€Ğ¼Ñƒ Ğ½Ğ¸Ğ¶Ğµ Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ ÑĞ²Ğ¾Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹."
           data-en="Contact us via the form below or send your suggestions and questions.">
           Quyidagi forma orqali biz bilan bogâ€˜laning yoki taklif va savollaringizni yuboring.
        </p>

        <form method="post" class="contact-form">
            {% csrf_token %}
            {{ contact_form.as_p }}
            <button type="submit" name="contact_submit" class="contact-btn"
                    data-uz="Yuborish" data-ru="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ" data-en="Send">Yuborish</button>
        </form>
    </section>

    <!-- ğŸ§¾ Modal (Mahsulot sotib olish) -->
    <div id="buyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle" data-uz="Buyurtma berish" data-ru="Ğ¡Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·" data-en="Order">Buyurtma berish</h3>
            <img id="modalImage" src="" style="width:100%;border-radius:8px;margin-bottom:10px;">
            <form id="orderForm" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" id="product_id" name="product_id">
                <input type="text" name="first_name" placeholder="Ismingiz" required><br>
                <input type="text" name="last_name" placeholder="Familiyangiz" required><br>
                <input type="text" name="phone" placeholder="Telefon raqam" required><br>
                <label><input type="checkbox" required> Taklif shartlariga roziman</label><br>
                <button type="submit" class="btn" name="buy_product" data-uz="Yuborish" data-ru="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ" data-en="Send">Yuborish</button>
            </form>
        </div>
    </div>

    <!-- ğŸ¦¶ Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-info">
                <h3>Hunarmand.uz</h3>
                <p data-uz="Mahalliy ustalar qoâ€˜l mehnati mahsulotlari"
                   data-ru="ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ†Ğ¸Ñ Ğ¼ĞµÑÑ‚Ğ½Ñ‹Ñ… Ğ¼Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ² Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹"
                   data-en="Local craftsmen handmade products">Mahalliy ustalar qoâ€˜l mehnati mahsulotlari</p>
            </div>
            <div class="footer-links">
                <p><strong>ğŸ“ Manzil:</strong> Namangan viloyati, Kosonsoy shahri</p>
                <p><strong>ğŸ“ Telefon:</strong> <a href="tel:+998901234567">+998 97 520 62 88</a></p>
                <p><strong>ğŸ’¬ Telegram:</strong> <a href="https://t.me/aliyarova_1998" target="_blank">Aliyarova</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Â© 2025 Hunarmand.uz | Barcha huquqlar himoyalangan.</p>
        </div>
    </footer>

    <!-- ğŸŒ™ Script -->
    <script>
        const modeToggle = document.getElementById("mode-toggle");
        const body = document.body;

        // dark mode
        modeToggle.addEventListener("click", () => {
            body.classList.toggle("dark");
            localStorage.setItem("darkMode", body.classList.contains("dark"));
        });

        if (localStorage.getItem("darkMode") === "true") {
            body.classList.add("dark");
        }

        // Modal
        const modal = document.getElementById("buyModal");

        function openModal(id, name, price, img) {
            document.getElementById("modalTitle").innerText = name + " - " + price + " soâ€˜m";
            document.getElementById("modalImage").src = img;
            document.getElementById("product_id").value = id;
            modal.style.display = "block";
        }

        function closeModal() {
            modal.style.display = "none";
        }

        window.onclick = function(e) {
            if (e.target == modal) closeModal();
        };

        // About gallery auto scroll
        document.addEventListener("DOMContentLoaded", () => {
            const gallery = document.querySelector(".about-gallery");

            let scrollAmount = 0;
            function autoScroll() {
                if (gallery.scrollTop + gallery.clientHeight >= gallery.scrollHeight) {
                    gallery.scrollTo({ top: 0, behavior: "smooth" });
                } else {
                    gallery.scrollBy({ left: 1, behavior: "smooth" });
                }
            }

            setInterval(autoScroll, 50);
        });

        // ğŸŒ Language selector
        const langSelect = document.getElementById("langSelect");

        function changeLanguage(lang) {
            document.querySelectorAll("[data-uz]").forEach(el => {
                el.innerText = el.getAttribute("data-" + lang);
            });
            localStorage.setItem("siteLang", lang);
        }

        const savedLang = localStorage.getItem("siteLang") || "uz";
        langSelect.value = savedLang;
        changeLanguage(savedLang);

        langSelect.addEventListener("change", (e) => {
            changeLanguage(e.target.value);
        });
        function toggleMenu() {
            document.querySelector('.navbar').classList.toggle('active');
        }

    </script>

</body>
</html>
